<h1>Productos disponibles</h1>

<!-- Formulario de filtrado -->
<form method="GET" action="/home" style="margin-bottom: 20px;">
  <!-- Buscar -->
  <label for="query">Buscar:</label>
  <input type="text" name="query" id="query" placeholder="title:camisa" />

  <!-- Ordenar -->
  <label for="sort">Ordenar por precio:</label>
  <select name="sort" id="sort">
    <option value="">-- Sin ordenar --</option>
    <option value="asc">Ascendente</option>
    <option value="desc">Descendente</option>
  </select>

  <!-- LÃ­mite -->
  <label for="limit">LÃ­mite:</label>
  <input type="number" name="limit" id="limit" min="1" value="10" />

  <button type="submit">Filtrar</button>
</form>

<!-- Lista de productos -->
<ul>
  {{#each products}}
    <li>
      <strong>{{this.title}}</strong> - ${{this.price}}

      <!-- Formulario para agregar al carrito -->
      <form action="/api/carts/{{../cartId}}/product/{{this._id}}" method="POST" style="display:inline;">
        <button type="submit">Agregar al carrito ðŸ›’</button>
      </form>
      <a href="/products/{{this._id}}">Ver detalles</a>
    </li>
  {{/each}}
</ul>

<br>
<a href="/cart/{{cartId}}">Ver Carrito</a>
